<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bulk download database tables — import_db_tables • drivesR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bulk download database tables — import_db_tables"><meta name="description" content="Bulk download database tables"><meta property="og:description" content="Bulk download database tables"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">drivesR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/drivesR-data-use.html">Workflow for using DRIVES database tables with drivesR</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Bulk download database tables</h1>

      <div class="d-none name"><code>import_db_tables.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Bulk download database tables</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">import_db_tables</span><span class="op">(</span></span>
<span>  tablevec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"drivesR.default.tablevec"</span><span class="op">)</span>,</span>
<span>  fetch_option <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"download.save"</span>, <span class="st">"download.only"</span>, <span class="st">"save.only"</span>, <span class="st">"upload"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  save_option <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"list"</span>, <span class="st">"rds"</span>, <span class="st">"csv"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  savedir <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  savename <span class="op">=</span> <span class="st">"drives"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tablevec">tablevec<a class="anchor" aria-label="anchor" href="#arg-tablevec"></a></dt>
<dd><p>A vector of table names to download. If NULL, the function downloads all DRIVES tables
available to the user.</p></dd>


<dt id="arg-fetch-option">fetch_option<a class="anchor" aria-label="anchor" href="#arg-fetch-option"></a></dt>
<dd><p>Indicates how tables are fetched and stored. Options are:
"download.save": Tables are imported via Directus API and saved as a list object in
an Rda file.
"download.only": Tables are imported via the Directus API into an object in the global environment.
"save.only": Tables are downloaded one-by-one and saved to the local path, without remaining in the
global environment. This may be helpful for systems with limited working memory.
"upload": The function loads tables from the path specified by savedir and savename into
a list in the global environment.
Because the download step takes a while, this option saves time when re-running a the script.</p></dd>


<dt id="arg-save-option">save_option<a class="anchor" aria-label="anchor" href="#arg-save-option"></a></dt>
<dd><p>Determines how files are saved on the local system. Options are "list" (the default), "rds",
and "csv". The "list" option combines tables into a single named list, db, saved as an RData
file. The "rds" and "csv" options save each table to a separate R data or csv file within the directory
specified under savedir. Although the list option is more convenient for coding, it requires
sufficient RAM to store all the data in working memory. If working memory is limiting,
it may be better to load tables individually, as needed.</p>
<p>If the fetch_option is "upload", the save_option should match how they are stored in the
local file system.</p></dd>


<dt id="arg-savedir">savedir<a class="anchor" aria-label="anchor" href="#arg-savedir"></a></dt>
<dd><p>Directory path for saving locally. Defaults to the working directory.</p></dd>


<dt id="arg-savename">savename<a class="anchor" aria-label="anchor" href="#arg-savename"></a></dt>
<dd><p>File prefix for saving locally. If the save_option is "list",
this is the entire file name, excluding extensions. Defaults to "drives".
If the save_option is "rds" or "csv", the file name will be the prefix followed by the
table name, separated by "_" (e.g., drives_crop_yields.csv).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A named list of DRIVES database tables.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># importing tables to a list in the R envirnoment without saving:</span></span></span>
<span class="r-in"><span><span class="co"># not run: db &lt;- import_db_tables(fetch_option = "download.only",save_option = "list")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># saving tables to separate files without keeping them in the R environment:</span></span></span>
<span class="r-in"><span><span class="co"># not run: db &lt;- import_db_tables(fetch_option = "save.only",save_option = "csv")</span></span></span>
<span class="r-in"><span><span class="co"># in this case, the object db will be NULL.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># importing tables into a list in the R envinvment while saving as separate files:</span></span></span>
<span class="r-in"><span><span class="co"># not run: db &lt;- import_db_tables(fetch_option = "download.only",save_option = "csv")</span></span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="co"># uploading previously-saved tables into a named list:</span></span></span>
<span class="r-in"><span> <span class="co"># not run: db &lt;- import_db_tables(fetch_option = "upload",save_option = "csv")</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Katherine Muller.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

